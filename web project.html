import React, { useState, useEffect } from 'react';
import { BrowserRouter as Router, Route, Switch, Link } from 'react-router-dom';

const Home = () => {
  return (
    <div>
      <h1>Welcome to Waste Segregation Portal</h1>
      <p>Start segregating your waste now!</p>
    </div>
  );
};

const OrganicWaste = () => {
  const [organicWaste, setOrganicWaste] = useState([]);

  useEffect(() => {
    // Fetch organic waste data from API
    fetch('https://api.example.com/organic-waste')
      .then(response => response.json())
      .then(data => setOrganicWaste(data));
  }, []);

  return (
    <div>
      <h2>Organic Waste</h2>
      <ul>
        {organicWaste.map(item => (
          <li key={item.id}>{item.name}</li>
        ))}
      </ul>
    </div>
  );
};

const RecyclableWaste = () => {
  const [recyclableWaste, setRecyclableWaste] = useState([]);

  useEffect(() => {
    // Fetch recyclable waste data from API
    fetch('https://api.example.com/recyclable-waste')
      .then(response => response.json())
      .then(data => setRecyclableWaste(data));
  }, []);

  return (
    <div>
      <h2>Recyclable Waste</h2>
      <ul>
        {recyclableWaste.map(item => (
          <li key={item.id}>{item.name}</li>
        ))}
      </ul>
    </div>
  );
};

const NonRecyclableWaste = () => {
  const [nonRecyclableWaste, setNonRecyclableWaste] = useState([]);

  useEffect(() => {
    // Fetch non-recyclable waste data from API
    fetch('https://api.example.com/non-recyclable-waste')
      .then(response => response.json())
      .then(data => setNonRecyclableWaste(data));
  }, []);

  return (
    <div>
      <h2>Non-Recyclable Waste</h2>
      <ul>
        {nonRecyclableWaste.map(item => (
          <li key={item.id}>{item.name}</li>
        ))}
      </ul>
    </div>
  );
};

const App = () => {
  return (
    <Router>
      <div>
        <nav>
          <ul>
            <li>
              <Link to="/">Home</Link>
            </li>
            <li>
              <Link to="/organic">Organic Waste</Link>
            </li>
            <li>
              <Link to="/recyclable">Recyclable Waste</Link>
            </li>
            <li>
              <Link to="/non-recyclable">Non-Recyclable Waste</Link>
            </li>
          </ul>
        </nav>

        <Switch>
          <Route path="/organic">
            <OrganicWaste />
          </Route>
          <Route path="/recyclable">
            <RecyclableWaste />
          </Route>
          <Route path="/non-recyclable">
            <NonRecyclableWaste />
          </Route>
          <Route path="/">
            <Home />
          </Route>
        </Switch>
      </div>
    </Router>
  );
};

export default App;
